"use strict";function testWebP(e){var t=new Image;t.onload=t.onerror=function(){e(2==t.height)},t.src="data:image/webp;base64,UklGRjoAAABXRUJQVlA4IC4AAACyAgCdASoCAAIALmk0mk0iIiIiIgBoSygABc6WWgAA/veff/0PP8bA//LwYAAA"}!function(){var e,t=[],o=document.querySelectorAll("[data-da]"),n=[],l=[];if(o.length>0){for(var i=0,r=0;r<o.length;r++){var s=o[r],a=s.getAttribute("data-da");if(""!=a){var c=a.split(","),d=c[1]?c[1].trim():"last",p=c[2]?c[2].trim():"767",u="min"===c[3]?c[3].trim():"max",y=document.querySelector("."+c[0].trim());c.length>0&&y&&(s.setAttribute("data-da-index",i),t[i]={parent:s.parentNode,index:k(s)},n[i]={element:s,destination:document.querySelector("."+c[0].trim()),place:d,breakpoint:p,type:u},i++)}}(e=n).sort((function(e,t){return e.breakpoint>t.breakpoint?-1:1})),e.sort((function(e,t){return e.place>t.place?1:-1}));for(var v=0;v<n.length;v++){var m=n[v],g=m.breakpoint,f=m.type;l.push(window.matchMedia("("+f+"-width: "+g+"px)")),l[v].addListener(_)}}function _(e){for(var t=0;t<n.length;t++){var o=n[t],i=o.element,r=o.destination,s=o.place,a="_dynamic_adapt_"+o.breakpoint;if(l[t].matches){if(!i.classList.contains(a)){var c=b(r)[s];"first"===s?c=b(r)[0]:"last"===s&&(c=b(r)[b(r).length]),r.insertBefore(i,r.children[c]),i.classList.add(a)}}else i.classList.contains(a)&&(h(i),i.classList.remove(a))}}function h(e){var o=e.getAttribute("data-da-index"),n=t[o],l=n.parent,i=n.index,r=b(l,!0)[i];l.insertBefore(e,l.children[r])}function k(e){return Array.prototype.slice.call(e.parentNode.children).indexOf(e)}function b(e,t){for(var o=e.children,n=[],l=0;l<o.length;l++){var i=o[l];(t||null==i.getAttribute("data-da"))&&n.push(l)}return n}_()}(),testWebP((function(e){1==e?document.querySelector("body").classList.add("webp"):document.querySelector("body").classList.add("no-webp")})),$(document).ready((function(){$(".header__burger").click((function(e){$(".header__burger, .header__menu").toggleClass("active"),$("body").toggleClass("lock")}))}));var selects=document.getElementsByTagName("select");function selects_init(){for(var e=0;e<selects.length;e++){select_init(selects[e])}document.addEventListener("click",(function(e){selects_close(e)})),document.addEventListener("keydown",(function(e){27==e.which&&selects_close(e)}))}function selects_close(e){var t=document.querySelectorAll(".select");if(!e.target.closest(".select"))for(var o=0;o<t.length;o++){var n=t[o],l=n.querySelector(".select__options");n.classList.remove("_active"),_slideUp(l,100)}}function select_init(e){var t=e.parentElement,o=e.getAttribute("class"),n=e.querySelector("option:checked");e.setAttribute("data-default",n.value),e.style.display="none",t.insertAdjacentHTML("beforeend",'<div class="select select_'+o+'"></div>'),e.parentElement.querySelector(".select").appendChild(e),select_item(e)}function select_item(e){var t=e.parentElement,o=t.querySelector(".select__item"),n=e.querySelectorAll("option"),l=e.querySelector("option:checked").text,i=e.getAttribute("data-type");o&&o.remove();var r="";r="input"==i?'<div class="select__value"><input autocomplete="off" type="text" name="form[]" value="'+l+'" data-error="Ошибка" data-value="'+l+'" class="select__input"></div>':'<div class="select__value"><span>'+l+"</span></div>",t.insertAdjacentHTML("beforeend",'<div class="select__item"><div class="select__title">'+r+'</div><div class="select__options">'+select_get_options(n)+"</div></div></div>"),select_actions(e,t)}function select_actions(e,t){var o=t.querySelector(".select__item"),n=t.querySelector(".select__options"),l=t.querySelectorAll(".select__option"),i=e.getAttribute("data-type"),r=t.querySelector(".select__input");o.addEventListener("click",(function(){for(var e=document.querySelectorAll(".select"),l=0;l<e.length;l++){var i=e[l],r=i.querySelector(".select__options");i!=o.closest(".select")&&(i.classList.remove("_active"),_slideUp(r,100))}_slideToggle(n,100),t.classList.toggle("_active")}));for(var s=function(o){var n=l[o],s=n.getAttribute("data-value"),a=n.innerHTML;"input"==i?r.addEventListener("keyup",select_search):n.getAttribute("data-value")==e.value&&(n.style.display="none"),n.addEventListener("click",(function(){for(var o=0;o<l.length;o++){l[o].style.display="block"}"input"==i?(r.value=a,e.value=s):(t.querySelector(".select__value").innerHTML="<span>"+a+"</span>",e.value=s,n.style.display="none")}))},a=0;a<l.length;a++)s(a)}function select_get_options(e){if(e){for(var t="",o=0;o<e.length;o++){var n=e[o],l=n.value;if(""!=l)t=t+'<div data-value="'+l+'" class="select__option">'+n.text+"</div>"}return t}}function select_search(e){e.target.closest(".select ").querySelector(".select__options");for(var t=e.target.closest(".select ").querySelectorAll(".select__option"),o=e.target.value.toUpperCase(),n=0;n<t.length;n++){var l=t[n];(l.textContent||l.innerText).toUpperCase().indexOf(o)>-1?l.style.display="":l.style.display="none"}}function selects_update_all(){var e=document.querySelectorAll("select");if(e)for(var t=0;t<e.length;t++){select_item(e[t])}}selects.length>0&&selects_init();var _slideUp=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:500;e.style.transitionProperty="height, margin, padding",e.style.transitionDuration=t+"ms",e.style.height=e.offsetHeight+"px",e.offsetHeight,e.style.overflow="hidden",e.style.height=0,e.style.paddingTop=0,e.style.paddingBottom=0,e.style.marginTop=0,e.style.marginBottom=0,window.setTimeout((function(){e.style.display="none",e.style.removeProperty("height"),e.style.removeProperty("padding-top"),e.style.removeProperty("padding-bottom"),e.style.removeProperty("margin-top"),e.style.removeProperty("margin-bottom"),e.style.removeProperty("overflow"),e.style.removeProperty("transition-duration"),e.style.removeProperty("transition-property"),e.classList.remove("_slide")}),t)},_slideDown=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:500;e.style.removeProperty("display");var o=window.getComputedStyle(e).display;"none"===o&&(o="block"),e.style.display=o;var n=e.offsetHeight;e.style.overflow="hidden",e.style.height=0,e.style.paddingTop=0,e.style.paddingBottom=0,e.style.marginTop=0,e.style.marginBottom=0,e.offsetHeight,e.style.transitionProperty="height, margin, padding",e.style.transitionDuration=t+"ms",e.style.height=n+"px",e.style.removeProperty("padding-top"),e.style.removeProperty("padding-bottom"),e.style.removeProperty("margin-top"),e.style.removeProperty("margin-bottom"),window.setTimeout((function(){e.style.removeProperty("height"),e.style.removeProperty("overflow"),e.style.removeProperty("transition-duration"),e.style.removeProperty("transition-property"),e.classList.remove("_slide")}),t)},_slideToggle=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:500;if(!e.classList.contains("_slide"))return e.classList.add("_slide"),"none"===window.getComputedStyle(e).display?_slideDown(e,t):_slideUp(e,t)},popupLinks=document.querySelectorAll(".popup-link"),body=document.querySelector("body"),lockPadding=document.querySelectorAll(".lock-padding"),unlock=!0,timeout=800;if(popupLinks.length>0)for(var _loop2=function(e){var t=popupLinks[e];t.addEventListener("click",(function(e){var o=t.getAttribute("href").replace("#","");popupOpen(document.getElementById(o)),e.preventDefault()}))},index=0;index<popupLinks.length;index++)_loop2(index);var popupCloseIcon=document.querySelectorAll(".close-popup");if(popupCloseIcon.length>0)for(var _loop3=function(e){var t=popupCloseIcon[e];t.addEventListener("click",(function(e){popupClose(t.closest(".popup")),e.preventDefault()}))},_index4=0;_index4<popupCloseIcon.length;_index4++)_loop3(_index4);function popupOpen(e){if(e&&unlock){var t=document.querySelector(".popup.open");t?popupClose(t,!1):bodyLock(),e.classList.add("open"),e.addEventListener("click",(function(e){e.target.closest(".popup__content")||popupClose(e.target.closest(".popup"))}))}}function popupClose(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];unlock&&(e.classList.remove("open"),t&&bodyUnLock())}function bodyLock(){var e=window.innerWidth-document.querySelector(".site-content").offsetWidth+"px";//!обратить внимание на контейнер
if(lockPadding.length>0)for(var t=0;t<lockPadding.length;t++){lockPadding[t].style.paddingRight=e}body.style.paddingRight=e,body.classList.add("lock"),unlock=!1,setTimeout((function(){unlock=!0}),timeout)}function bodyUnLock(){setTimeout((function(){if(lockPadding.length>0)for(var e=0;e<lockPadding.length;e++){lockPadding[e].style.paddingRight="0px"}body.style.paddingRight="0px",body.classList.remove("lock")}),timeout),unlock=!1,setTimeout((function(){unlock=!0}),timeout)}document.addEventListener("keydown",(function(e){27===e.which&&popupClose(document.querySelector(".popup.open"))})),Element.prototype.closest||(Element.prototype.closest=function(e){for(var t=this;t;){if(t.matches(e))return t;t=t.parentElement}return null}),Element.prototype.matches||(Element.prototype.matches=Element.prototype.matchesSelector||Element.prototype.webkitMatchesSelector||Element.prototype.mozMatchesSelector||Element.prototype.msMatchesSelector),$(document).ready((function(){$(".accordion__title").click((function(e){var t=$(this).closest(".accordion").attr("id");$("#"+t).hasClass("accordion-one")&&($("#"+t+" .accordion__title").not($(this)).removeClass("active"),$("#"+t+" .accordion__text").not($(this).next()).slideUp(300)),$(this).toggleClass("active").next().slideToggle(300)}))}));